import React, { useEffect, useState } from 'react';
import { motion } from 'framer-motion';
import { Share2, ChevronLeft, Heart } from 'lucide-react';

// Browser detection function
const getBrowser = () => {
  const userAgent = navigator.userAgent.toLowerCase();
  if (userAgent.includes('chrome')) {
    return 'chrome';
  } else if (userAgent.includes('safari')) {
    return 'safari';
  }
  return 'other';
};

const SafariIcon = () => (
  <svg xmlns="http://www.w3.org/2000/svg" width="46" height="46" fill="none" viewBox="0 0 46 46">
  <rect width="46" height="46" fill="#fff" rx="6"/>
  <path fill="#fff" d="M22.73 4.313h.539v3.414h-.539zm0 33.96h.539v3.414h-.539zm-3.241-33.63.53-.093.594 3.362-.531.093zm5.898 33.445.53-.094.594 3.363-.531.093zM16.355 5.532l.506-.184 1.168 3.208-.506.184zM27.97 37.444l.507-.185 1.168 3.208-.506.185zm-11.615 3.024.507.185 1.167-3.208-.506-.185zM27.97 8.555l.507.185 1.168-3.208-.507-.185zm-8.48 32.802.53.093.593-3.362-.53-.093zm5.897-33.445.53.093.593-3.362-.53-.093zM13.423 6.95l.467-.269 1.707 2.957-.466.27zm16.98 29.412.467-.27 1.707 2.957-.467.27zm-16.98 2.687.467.27 1.707-2.957-.467-.27zm16.98-29.411.467.27 1.707-2.957-.467-.27zm-19.622-.78.413-.346 2.194 2.615-.413.346zm21.83 26.015.413-.346 2.194 2.615-.413.346zm-21.83 2.269.413.347 2.195-2.616-.413-.346zM32.61 11.127l.414.346 2.194-2.615-.413-.346zm-24.099.067.346-.413 2.616 2.195-.347.412zm26.016 21.83.346-.413 2.616 2.195-.347.412zM8.512 34.806l.346.413 2.616-2.194-.347-.413zm26.015-21.83.346.413 2.616-2.195-.347-.412zm-27.846.914.27-.467 2.956 1.707-.27.467zm29.411 16.98.27-.467 2.956 1.707-.27.467zM6.68 32.11l.27.467 2.957-1.707-.27-.467zm29.412-16.98.27.467 2.956-1.707-.27-.467zM5.347 16.862l.184-.506 3.208 1.167-.184.507zM37.26 28.477l.184-.506 3.208 1.167-.184.507zm-31.913.661.184.506 3.208-1.167-.184-.507zM37.26 17.523l.184.507 3.208-1.168-.184-.506zM4.55 20.02l.094-.53 3.362.592-.094.53zm33.445 5.898.094-.53 3.362.592-.094.53zm-33.446.062.093.53 3.362-.593-.093-.53zm33.445-5.897.093.53 3.362-.592-.093-.531zM4.313 23.27v-.539h3.414v.539zm33.96 0v-.539h3.414v.539zM21.103 4.407l.537-.047.188 2.148-.537.047zm3.069 35.085.537-.047.188 2.148-.537.047zM24.36 4.36l.537.047-.188 2.148-.537-.047zm-3.069 35.085.537.047-.188 2.148-.537-.047zM17.903 5.019l.52-.14.559 2.083-.521.14zm9.115 34.019.52-.14.559 2.083-.521.14zm-9.115 1.943.52.14.559-2.083-.521-.14zm9.115-34.019.52.14.559-2.083-.52-.14zm-12.16-.785.488-.228.912 1.954-.489.228zm14.884 31.919.488-.228.912 1.954-.489.228zm-14.884 1.727.488.227.912-1.954-.489-.227zM29.742 7.904l.488.228.911-1.954-.488-.228zM12.06 7.847l.442-.31 1.236 1.767-.441.31zm20.201 28.849.442-.31 1.236 1.767-.441.31zM12.06 38.153l.442.31 1.236-1.767-.441-.31zM32.261 9.304l.442.31 1.236-1.767-.441-.31zm-22.666.673.381-.381 1.525 1.524-.381.382zM34.499 34.88l.381-.381 1.525 1.524-.381.382zM7.537 12.502l.31-.442 1.765 1.237-.309.442zm28.85 20.201.31-.442 1.765 1.237-.309.442zm-28.849.795.309.442 1.766-1.237-.31-.441zm28.849-20.201.31.441 1.765-1.236-.309-.442zM5.95 15.348l.227-.489 1.954.912-.227.488zM37.868 30.23l.228-.488 1.954.911-.228.489zm-31.918.423.227.489 1.954-.912-.227-.488zM37.868 15.77l.228.488 1.954-.91-.228-.49zM4.88 18.424l.14-.52 2.082.557-.14.521zm34.018 9.115.14-.52 2.082.557-.14.521zm-34.018.038.139.52L7.1 27.54l-.14-.52zm34.018-9.117.14.521 2.082-.558-.14-.52zM4.36 21.64l.047-.537 2.148.188-.047.537zm35.084 3.07.047-.537 2.148.188-.047.537zM4.36 24.36l.047.537 2.148-.188-.047-.537zm35.085-3.07.047.537 2.148-.188-.047-.537z"/>
  <path fill="#fff" d="m4.407 24.897-.047-.537 2.148-.188.047.537zm35.085-3.069-.047-.537 2.148-.188.047.537zm-35.085-.725-.047.537 2.148.188.047-.537zm35.085 3.069-.047.537 2.148.188.047-.537z"/>
  <path fill="#fff" d="M42.181 23c0 2.495-.494 4.966-1.453 7.271a18.991 18.991 0 0 1-4.139 6.164 19.096 19.096 0 0 1-6.193 4.119A19.168 19.168 0 0 1 23.09 42a19.137 19.137 0 0 1-13.499-5.565A18.954 18.954 0 0 1 4 23c0-5.04 2.011-9.872 5.591-13.435A19.137 19.137 0 0 1 23.091 4c2.506 0 4.989.491 7.305 1.446a19.096 19.096 0 0 1 6.194 4.119 18.991 18.991 0 0 1 4.138 6.164A18.922 18.922 0 0 1 42.18 23Z"/>
  <path fill="url(#a)" d="M40.685 23c0 4.644-1.854 9.098-5.153 12.382a17.637 17.637 0 0 1-12.441 5.13 17.637 17.637 0 0 1-12.442-5.13A17.47 17.47 0 0 1 5.496 23a17.47 17.47 0 0 1 5.153-12.382 17.637 17.637 0 0 1 12.442-5.13c4.666 0 9.141 1.846 12.44 5.13A17.469 17.469 0 0 1 40.686 23Z"/>
  <path fill="#F4F2F3" d="M23.09 6.402a.255.255 0 0 0-.256.255v2.945c0 .142.114.255.256.255a.255.255 0 0 0 .257-.255V6.657a.255.255 0 0 0-.257-.255Zm-1.678.106a.255.255 0 0 0-.28.28l.129 1.232c.015.14.14.242.282.228a.255.255 0 0 0 .228-.28l-.129-1.233a.255.255 0 0 0-.23-.227Zm3.368 0a.255.255 0 0 0-.23.228l-.13 1.232a.255.255 0 0 0 .229.28.256.256 0 0 0 .282-.226l.13-1.232a.255.255 0 0 0-.28-.281Zm-5.092.248a.255.255 0 0 0-.25.308l.614 2.881a.255.255 0 0 0 .304.197.255.255 0 0 0 .198-.302l-.613-2.881a.256.256 0 0 0-.253-.203Zm6.816.003a.255.255 0 0 0-.252.202l-.615 2.88a.255.255 0 0 0 .197.304.256.256 0 0 0 .305-.197l.615-2.88a.255.255 0 0 0-.25-.31Zm-8.46.459a.254.254 0 0 0-.266.333l.384 1.179a.256.256 0 0 0 .488-.158l-.385-1.178a.256.256 0 0 0-.222-.176Zm10.096 0a.256.256 0 0 0-.222.176l-.385 1.178a.256.256 0 0 0 .488.158l.385-1.178a.254.254 0 0 0-.266-.333Zm-11.724.593a.257.257 0 0 0-.23.359l1.202 2.69a.256.256 0 0 0 .47-.207l-1.203-2.69a.256.256 0 0 0-.239-.152Zm13.37.009a.257.257 0 0 0-.24.151l-1.205 2.69a.257.257 0 0 0 .469.208l1.205-2.69a.254.254 0 0 0-.23-.36Zm-14.88.786a.254.254 0 0 0-.146.034.254.254 0 0 0-.094.348l.623 1.073a.257.257 0 0 0 .444-.255l-.623-1.073a.256.256 0 0 0-.204-.127Zm16.369 0a.255.255 0 0 0-.204.127l-.623 1.073a.257.257 0 0 0 .444.255l.623-1.073a.254.254 0 0 0-.094-.348.257.257 0 0 0-.146-.034Zm-17.835.91a.258.258 0 0 0-.142.049.254.254 0 0 0-.057.356l1.737 2.384c.084.114.244.14.359.057a.254.254 0 0 0 .057-.357l-1.738-2.383a.256.256 0 0 0-.216-.106Zm19.32.013a.256.256 0 0 0-.217.105l-1.74 2.381a.254.254 0 0 0 .056.357.257.257 0 0 0 .358-.056l1.74-2.381a.254.254 0 0 0-.197-.406ZM12.13 10.61a.255.255 0 0 0-.205.426l.833.92a.257.257 0 0 0 .362.02.254.254 0 0 0 .019-.361l-.833-.92a.256.256 0 0 0-.177-.085Zm21.924.002a.257.257 0 0 0-.178.084l-.832.92a.254.254 0 0 0 .019.361.257.257 0 0 0 .362-.018l.833-.921a.256.256 0 0 0-.204-.426ZM10.873 11.81a.258.258 0 0 0-.177.084.254.254 0 0 0 .019.361l2.199 1.97a.257.257 0 0 0 .362-.019.254.254 0 0 0-.019-.36l-2.2-1.97a.256.256 0 0 0-.184-.066Zm24.443.009a.256.256 0 0 0-.185.065l-2.2 1.969a.254.254 0 0 0-.02.36.257.257 0 0 0 .362.02l2.201-1.97a.256.256 0 0 0-.158-.445ZM9.828 13.148a.256.256 0 0 0-.16.462l1.008.728a.257.257 0 0 0 .358-.056.254.254 0 0 0-.057-.357l-1.007-.728a.256.256 0 0 0-.142-.049Zm26.532.01a.259.259 0 0 0-.142.048l-1.008.727a.254.254 0 0 0-.057.357c.084.115.244.14.359.057l1.007-.728a.254.254 0 0 0 .057-.356.256.256 0 0 0-.216-.106ZM8.852 14.573a.255.255 0 0 0-.11.476l2.562 1.473c.123.07.28.029.35-.094a.254.254 0 0 0-.093-.349l-2.563-1.472a.257.257 0 0 0-.146-.034Zm28.477 0a.255.255 0 0 0-.146.034L34.62 16.08a.254.254 0 0 0-.093.349.257.257 0 0 0 .35.094l2.562-1.473a.254.254 0 0 0 .094-.349.256.256 0 0 0-.204-.127Zm-29.215 1.52a.255.255 0 0 0-.11.489l1.137.504c.13.058.281 0 .339-.129a.254.254 0 0 0-.13-.337l-1.137-.505a.256.256 0 0 0-.1-.022Zm29.958.01a.259.259 0 0 0-.1.023l-1.136.504a.254.254 0 0 0-.13.337.256.256 0 0 0 .338.13l1.137-.505a.256.256 0 0 0-.109-.489ZM7.456 17.684a.255.255 0 0 0-.058.497l2.814.912a.255.255 0 1 0 .159-.486l-2.814-.911a.259.259 0 0 0-.101-.012Zm31.273.01a.25.25 0 0 0-.102.012l-2.814.91a.255.255 0 0 0-.164.323.256.256 0 0 0 .323.163l2.814-.91a.255.255 0 0 0-.057-.497ZM7.046 19.35a.255.255 0 0 0-.055.506l1.218.257a.256.256 0 1 0 .106-.5l-1.217-.257a.25.25 0 0 0-.052-.006Zm32.09.003a.315.315 0 0 0-.052.005l-1.218.258a.255.255 0 1 0 .107.5l1.217-.258a.255.255 0 0 0-.055-.505Zm-32.4 1.675a.255.255 0 0 0-.002.508l2.943.31a.256.256 0 1 0 .053-.508l-2.942-.31a.259.259 0 0 0-.052 0Zm32.712.022a.228.228 0 0 0-.052 0l-2.943.306a.255.255 0 1 0 .053.508l2.943-.306a.255.255 0 0 0-.001-.508ZM6.686 22.745a.255.255 0 1 0 0 .51h1.245a.255.255 0 1 0 0-.51H6.686Zm31.564 0a.255.255 0 1 0 0 .51h1.245a.255.255 0 1 0 0-.51H38.25ZM9.727 24.137a.233.233 0 0 0-.052 0l-2.943.306a.255.255 0 1 0 .053.508l2.943-.306a.255.255 0 0 0-.001-.508Zm26.725.018a.255.255 0 0 0-.001.508l2.942.31a.256.256 0 1 0 .054-.508l-2.942-.31a.268.268 0 0 0-.053 0ZM8.26 25.88a.263.263 0 0 0-.052.005l-1.217.257a.255.255 0 1 0 .106.5l1.218-.257a.255.255 0 0 0-.055-.505Zm29.66.002a.255.255 0 0 0-.054.505l1.217.258a.256.256 0 1 0 .107-.5l-1.218-.257a.256.256 0 0 0-.051-.006Zm-27.61 1.006a.25.25 0 0 0-.101.011l-2.814.91a.255.255 0 0 0-.165.323.256.256 0 0 0 .324.163l2.813-.91a.254.254 0 0 0-.057-.497Zm25.558.009a.256.256 0 0 0-.058.497l2.814.912a.255.255 0 0 0 .323-.163.254.254 0 0 0-.164-.322l-2.814-.913a.257.257 0 0 0-.101-.011ZM9.236 28.882a.256.256 0 0 0-.1.022L8 29.408a.254.254 0 0 0-.13.337.257.257 0 0 0 .338.13l1.138-.505a.256.256 0 0 0-.11-.489Zm27.704.01a.256.256 0 0 0-.109.488l1.137.505a.256.256 0 1 0 .208-.467l-1.136-.504a.256.256 0 0 0-.1-.023Zm-25.49.553a.255.255 0 0 0-.146.033l-2.562 1.473a.254.254 0 0 0-.094.349.257.257 0 0 0 .35.093l2.563-1.472a.256.256 0 0 0-.11-.476Zm23.28 0a.255.255 0 0 0-.11.476l2.563 1.472c.123.07.28.03.35-.093a.254.254 0 0 0-.094-.35l-2.562-1.472a.257.257 0 0 0-.146-.033Zm-23.919 2.16a.258.258 0 0 0-.142.05l-1.007.727a.254.254 0 0 0-.057.356c.083.115.243.14.358.057l1.008-.728a.254.254 0 0 0 .057-.356.256.256 0 0 0-.217-.106Zm24.553.009a.256.256 0 0 0-.16.462l1.007.728a.257.257 0 0 0 .358-.056.254.254 0 0 0-.056-.357l-1.007-.728a.256.256 0 0 0-.142-.049Zm-22.271.088a.256.256 0 0 0-.185.065l-2.2 1.97a.254.254 0 0 0-.02.36.257.257 0 0 0 .362.019l2.2-1.969a.254.254 0 0 0 .02-.36.256.256 0 0 0-.177-.085Zm19.99.007a.258.258 0 0 0-.178.085.254.254 0 0 0 .019.36l2.199 1.97a.257.257 0 0 0 .362-.019.254.254 0 0 0-.019-.36l-2.199-1.97a.256.256 0 0 0-.185-.066ZM15.18 33.58a.256.256 0 0 0-.216.106l-1.74 2.38a.254.254 0 0 0 .056.358.257.257 0 0 0 .358-.057l1.74-2.381a.254.254 0 0 0-.198-.405Zm15.806.011a.254.254 0 0 0-.199.405l1.738 2.384a.257.257 0 0 0 .415-.3l-1.737-2.383a.256.256 0 0 0-.217-.106Zm-18.053.368a.258.258 0 0 0-.177.084l-.833.92a.254.254 0 0 0 .02.361.257.257 0 0 0 .362-.019l.832-.92a.256.256 0 0 0-.204-.426Zm20.313.001a.256.256 0 0 0-.204.426l.833.92a.257.257 0 0 0 .362.02.254.254 0 0 0 .019-.36l-.833-.922a.256.256 0 0 0-.177-.084Zm-15.635 1.02a.255.255 0 0 0-.24.152l-1.205 2.69a.256.256 0 0 0 .469.208l1.205-2.69a.254.254 0 0 0-.229-.36Zm10.943.008a.256.256 0 0 0-.23.359l1.202 2.69a.257.257 0 0 0 .468-.206l-1.201-2.692a.256.256 0 0 0-.24-.151Zm-13.061.824a.256.256 0 0 0-.204.127l-.623 1.073a.257.257 0 0 0 .444.255l.623-1.073a.254.254 0 0 0-.094-.348.257.257 0 0 0-.146-.034Zm15.195 0a.255.255 0 0 0-.146.034.254.254 0 0 0-.094.348l.623 1.073a.257.257 0 0 0 .444-.255l-.622-1.073a.257.257 0 0 0-.205-.127Zm-10.393.038a.255.255 0 0 0-.253.203l-.615 2.88a.255.255 0 0 0 .198.303.256.256 0 0 0 .304-.197l.615-2.88a.255.255 0 0 0-.25-.309Zm5.582.002a.255.255 0 0 0-.25.308l.613 2.881c.03.139.166.226.305.197a.255.255 0 0 0 .197-.303l-.613-2.88a.256.256 0 0 0-.252-.203Zm-2.787.29a.255.255 0 0 0-.256.256v2.945c0 .141.114.255.256.255a.255.255 0 0 0 .257-.255v-2.945a.255.255 0 0 0-.257-.255Zm-4.708.952a.256.256 0 0 0-.222.176l-.385 1.178a.256.256 0 0 0 .488.158l.385-1.178a.254.254 0 0 0-.266-.334Zm9.415 0a.255.255 0 0 0-.266.333l.385 1.18a.256.256 0 0 0 .488-.158l-.385-1.178a.256.256 0 0 0-.222-.176Zm-6.317.657a.255.255 0 0 0-.23.227l-.13 1.233a.255.255 0 0 0 .229.28.256.256 0 0 0 .282-.227l.13-1.232a.255.255 0 0 0-.28-.281Zm3.21.001a.255.255 0 0 0-.28.28l.129 1.233c.015.14.14.242.282.227a.255.255 0 0 0 .228-.28l-.129-1.232a.255.255 0 0 0-.23-.228Z"/>
  <g filter="url(#b)" opacity=".409">
    <path fill="#000" d="m35.113 12.788-14.035 8.115-8.873 13.904 12.981-9.57 9.927-12.45Z"/>
  </g>
  <path fill="#FF5150" d="m25.102 25.096-4.023-4.193 14.27-9.554-10.247 13.747Z"/>
  <path fill="#F1F1F1" d="m25.102 25.096-4.023-4.192L10.831 34.65l14.27-9.555Z"/>
  <path fill="#000" d="m10.831 34.65 14.27-9.554L35.35 11.35 10.831 34.651Z" opacity=".243"/>
  <defs>
    <radialGradient id="a" cx="0" cy="0" r="1" gradientTransform="matrix(19.0905 0 0 18.9999 23.17 20.447)" gradientUnits="userSpaceOnUse">
      <stop stop-color="#06C2E7"/>
      <stop offset=".25" stop-color="#0DB8EC"/>
      <stop offset=".5" stop-color="#12AEF1"/>
      <stop offset=".75" stop-color="#1F86F9"/>
      <stop offset="1" stop-color="#107DDD"/>
    </radialGradient>
    <filter id="b" width="27.998" height="27.109" x="9.66" y="10.243" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">
      <feFlood flood-opacity="0" result="BackgroundImageFix"/>
      <feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
      <feGaussianBlur result="effect1_foregroundBlur_643_379" stdDeviation="1.272"/>
    </filter>
  </defs>
</svg>

);

const ChromeIcon = () => (
  <svg xmlns="http://www.w3.org/2000/svg" width="46" height="46" fill="none" viewBox="0 0 46 46">
  <rect width="46" height="46" fill="#fff" rx="6"/>
  <path fill="#fff" d="M22.73 4.313h.539v3.414h-.539zm0 33.96h.539v3.414h-.539zm-3.241-33.63.53-.093.594 3.362-.531.093zm5.898 33.445.53-.094.594 3.363-.531.093zM16.355 5.532l.506-.184 1.168 3.208-.506.184zM27.97 37.444l.507-.185 1.168 3.208-.506.185zm-11.615 3.024.507.185 1.167-3.208-.506-.185zM27.97 8.555l.507.185 1.168-3.208-.507-.185zm-8.48 32.802.53.093.593-3.362-.53-.093zm5.897-33.445.53.093.593-3.362-.53-.093zM13.423 6.95l.467-.269 1.707 2.957-.466.27zm16.98 29.412.467-.27 1.707 2.957-.467.27zm-16.98 2.687.467.27 1.707-2.957-.467-.27zm16.98-29.411.467.27 1.707-2.957-.467-.27zm-19.622-.78.413-.346 2.194 2.615-.413.346zm21.83 26.015.413-.346 2.194 2.615-.413.346zm-21.83 2.269.413.347 2.195-2.616-.413-.346zM32.61 11.127l.414.346 2.194-2.615-.413-.346zm-24.099.067.346-.413 2.616 2.195-.347.412zm26.016 21.83.346-.413 2.616 2.195-.347.412zM8.512 34.806l.346.413 2.616-2.194-.347-.413zm26.015-21.83.346.413 2.616-2.195-.347-.412zm-27.846.914.27-.467 2.956 1.707-.27.467zm29.411 16.98.27-.467 2.956 1.707-.27.467zM6.68 32.11l.27.467 2.957-1.707-.27-.467zm29.412-16.98.27.467 2.956-1.707-.27-.467zM5.347 16.862l.184-.506 3.208 1.167-.184.507zM37.26 28.477l.184-.506 3.208 1.167-.184.507zm-31.913.661.184.506 3.208-1.167-.184-.507zM37.26 17.523l.184.507 3.208-1.168-.184-.506zM4.55 20.02l.094-.53 3.362.592-.094.53zm33.445 5.898.094-.53 3.362.592-.094.53zm-33.446.062.093.53 3.362-.593-.093-.53zm33.445-5.897.093.53 3.362-.592-.093-.531zM4.313 23.27v-.539h3.414v.539zm33.96 0v-.539h3.414v.539zM21.103 4.407l.537-.047.188 2.148-.537.047zm3.069 35.085.537-.047.188 2.148-.537.047zM24.36 4.36l.537.047-.188 2.148-.537-.047zm-3.069 35.085.537.047-.188 2.148-.537-.047zM17.903 5.019l.52-.14.559 2.083-.521.14zm9.115 34.019.52-.14.559 2.083-.521.14zm-9.115 1.943.52.14.559-2.083-.521-.14zm9.115-34.019.52.14.559-2.083-.52-.14zm-12.16-.785.488-.228.912 1.954-.489.228zm14.884 31.919.488-.228.912 1.954-.489.228zm-14.884 1.727.488.227.912-1.954-.489-.227zM29.742 7.904l.488.228.911-1.954-.488-.228zM12.06 7.847l.442-.31 1.236 1.767-.441.31zm20.201 28.849.442-.31 1.236 1.767-.441.31zM12.06 38.153l.442.31 1.236-1.767-.441-.31zM32.261 9.304l.442.31 1.236-1.767-.441-.31zm-22.666.673.381-.381 1.525 1.524-.381.382zM34.499 34.88l.381-.381 1.525 1.524-.381.382zM7.537 12.502l.31-.442 1.765 1.237-.309.442zm28.85 20.201.31-.442 1.765 1.237-.309.442zm-28.849.795.309.442 1.766-1.237-.31-.441zm28.849-20.201.31.441 1.765-1.236-.309-.442zM5.95 15.348l.227-.489 1.954.912-.227.488zM37.868 30.23l.228-.488 1.954.911-.228.489zm-31.918.423.227.489 1.954-.912-.227-.488zM37.868 15.77l.228.488 1.954-.91-.228-.49zM4.88 18.424l.14-.52 2.082.557-.14.521zm34.018 9.115.14-.52 2.082.557-.14.521zm-34.018.038.139.52L7.1 27.54l-.14-.52zm34.018-9.117.14.521 2.082-.558-.14-.52zM4.36 21.64l.047-.537 2.148.188-.047.537zm35.084 3.07.047-.537 2.148.188-.047.537zM4.36 24.36l.047.537 2.148-.188-.047-.537zm35.085-3.07.047.537 2.148-.188-.047-.537z"/>
  <path fill="#fff" d="m4.407 24.897-.047-.537 2.148-.188.047.537zm35.085-3.069-.047-.537 2.148-.188.047.537zm-35.085-.725-.047.537 2.148.188.047-.537zm35.085 3.069-.047.537 2.148.188.047-.537z"/>
  <g clip-path="url(#a)">
    <path fill="#fff" d="M23 31.996a9 9 0 1 0 0-18 9 9 0 0 0 0 18Z"/>
    <path fill="url(#b)" d="M23 14h15.586a17.997 17.997 0 0 0-31.173.002L15.206 27.5l.007-.002A8.988 8.988 0 0 1 23 14Z"/>
    <path fill="#1A73E8" d="M23 30.125a7.125 7.125 0 1 0 0-14.25 7.125 7.125 0 0 0 0 14.25Z"/>
    <path fill="url(#c)" d="M30.793 27.502 23 41a17.995 17.995 0 0 0 15.585-26.998H22.999l-.002.007a8.99 8.99 0 0 1 7.796 13.493Z"/>
    <path fill="url(#d)" d="M15.207 27.502 7.413 14.005A17.996 17.996 0 0 0 23.002 41l7.793-13.498-.005-.005a8.989 8.989 0 0 1-15.583.005Z"/>
  </g>
  <defs>
    <linearGradient id="b" x1="7.413" x2="38.586" y1="16.25" y2="16.25" gradientUnits="userSpaceOnUse">
      <stop stop-color="#D93025"/>
      <stop offset="1" stop-color="#EA4335"/>
    </linearGradient>
    <linearGradient id="c" x1="20.541" x2="36.128" y1="40.759" y2="13.763" gradientUnits="userSpaceOnUse">
      <stop stop-color="#FCC934"/>
      <stop offset="1" stop-color="#FBBC04"/>
    </linearGradient>
    <linearGradient id="d" x1="24.949" x2="9.362" y1="39.876" y2="12.88" gradientUnits="userSpaceOnUse">
      <stop stop-color="#1E8E3E"/>
      <stop offset="1" stop-color="#34A853"/>
    </linearGradient>
    <clipPath id="a">
      <path fill="#fff" d="M5 5h36v36H5z"/>
    </clipPath>
  </defs>
</svg>

);

const AppleIcon = () => (
  <svg xmlns="http://www.w3.org/2000/svg" width="46" height="46" fill="none" viewBox="0 0 46 46">
  <rect width="46" height="46" fill="#fff" rx="6"/>
  <path fill="#4D4D4D" d="M35.747 17.775c-.197.155-3.672 2.148-3.672 6.58 0 5.126 4.422 6.939 4.555 6.984-.02.11-.703 2.483-2.332 4.901-1.453 2.128-2.97 4.252-5.278 4.252-2.307 0-2.901-1.364-5.565-1.364-2.597 0-3.52 1.409-5.63 1.409-2.112 0-3.585-1.969-5.278-4.387C10.585 33.311 9 28.9 9 24.714c0-6.715 4.29-10.276 8.512-10.276 2.243 0 4.113 1.5 5.522 1.5 1.34 0 3.43-1.59 5.983-1.59.967 0 4.443.09 6.73 3.427Zm-7.942-6.27c1.056-1.274 1.803-3.042 1.803-4.81 0-.246-.02-.495-.065-.695-1.717.066-3.76 1.164-4.992 2.618-.967 1.12-1.87 2.888-1.87 4.68 0 .27.044.54.064.626.109.02.285.045.462.045 1.54 0 3.479-1.05 4.598-2.463Z"/>
</svg>

);

const SafariShareIcon = () => (
  <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" fill="none" viewBox="0 0 42 42">
  <rect width="40" height="40" x="1" y="1" stroke="#09FDFD" stroke-width="2" rx="8"/>
  <path fill="#0A84FF" d="M20.995 25.02c.436 0 .811-.366.811-.794V13.76l-.06-1.528.679.723 1.541 1.651a.723.723 0 0 0 .548.245c.416 0 .74-.306.74-.724 0-.214-.091-.377-.243-.53l-3.428-3.322c-.203-.204-.375-.275-.588-.275-.203 0-.375.071-.588.275l-3.428 3.322a.712.712 0 0 0-.233.53c0 .418.304.724.73.724a.76.76 0 0 0 .558-.245l1.531-1.65.69-.724-.061 1.528v10.466a.81.81 0 0 0 .8.795ZM15.185 33h11.63C28.936 33 30 31.94 30 29.84V19.67c0-2.098-1.065-3.158-3.184-3.158h-2.83v1.64h2.8c1.003 0 1.581.55 1.581 1.61v9.987c0 1.06-.578 1.61-1.582 1.61h-11.58c-1.015 0-1.572-.55-1.572-1.61v-9.986c0-1.06.557-1.61 1.572-1.61h2.809v-1.641h-2.83c-2.12 0-3.184 1.06-3.184 3.159v10.17C12 31.94 13.065 33 15.184 33Z"/>
</svg>

);

const ChromeShareIcon = () => (
  <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" fill="none" viewBox="0 0 42 42">
  <path fill="#E1E1E2" d="M2 8h21c7.18 0 13 5.82 13 13s-5.82 13-13 13H2V8Z"/>
  <rect width="40" height="40" x="1" y="1" stroke="#09FDFD" stroke-width="2" rx="8"/>
  <path fill="#636366" d="M18.997 22.796c.29 0 .54-.24.54-.518v-6.826l-.04-.996.453.471 1.027 1.077a.49.49 0 0 0 .366.16c.277 0 .493-.2.493-.472 0-.14-.06-.246-.162-.346l-2.285-2.167c-.136-.133-.25-.179-.392-.179-.136 0-.25.046-.392.18l-2.286 2.166a.46.46 0 0 0-.155.346c0 .272.203.471.487.471a.512.512 0 0 0 .372-.159l1.02-1.077.46-.471-.04.996v6.826c0 .279.243.518.534.518ZM15.123 28h7.754C24.29 28 25 27.309 25 25.94v-6.633c0-1.369-.71-2.06-2.123-2.06h-1.886v1.07h1.866c.67 0 1.055.359 1.055 1.05v6.513c0 .691-.386 1.05-1.055 1.05h-7.72c-.677 0-1.049-.359-1.049-1.05v-6.513c0-.691.372-1.05 1.048-1.05h1.873v-1.07h-1.886c-1.413 0-2.123.691-2.123 2.06v6.633c0 1.369.71 2.06 2.123 2.06Z"/>
</svg>

);

const IOSInstallGuide = () => {
  const [browser, setBrowser] = useState('safari');

  useEffect(() => {
    setBrowser(getBrowser());
  }, []);

  const steps = {
    safari: [
      {
        id: 1,
        text: "Use el botón inferior en el medio de su navegador",
        icon: <SafariShareIcon />,
      },
      {
        id: 2,
        text: "Deslice hacia abajo y busque el botón de 'Agregar a Inicio'",
        preview: (
          <div className="bg-gray-100 dark:bg-gray-800 rounded-lg p-3 mt-2 w-full max-w-xs mx-auto border-2 border-[#09FDFD]">
            <div className="flex items-center justify-between px-4 py-2 bg-white dark:bg-gray-700 rounded-lg">
              <span>Agregar a Inicio</span>
              <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20">
                  <path fill="#242424" d="M0 4.167A4.167 4.167 0 0 1 4.167 0h11.666A4.167 4.167 0 0 1 20 4.167v11.666A4.167 4.167 0 0 1 15.833 20H4.167A4.167 4.167 0 0 1 0 15.833V4.167Zm4.167-2.5a2.5 2.5 0 0 0-2.5 2.5v11.666a2.5 2.5 0 0 0 2.5 2.5h11.666a2.5 2.5 0 0 0 2.5-2.5V4.167a2.5 2.5 0 0 0-2.5-2.5H4.167ZM10 4.167c.46 0 .833.373.833.833v4.167H15a.833.833 0 0 1 0 1.666h-4.167V15a.833.833 0 0 1-1.666 0v-4.167H5a.833.833 0 1 1 0-1.666h4.167V5c0-.46.373-.833.833-.833Z"/>
                </svg>
              </span>
            </div>
          </div>
        ),
      },
    ],
    chrome: [
      {
        id: 1,
        text: "Use el botón superior derecho de su navegador",
        icon: <ChromeShareIcon />,
      },
      {
        id: 2,
        text: "Deslice hacia abajo y busque el botón de 'Añadir a pantalla de inicio'",
        preview: (
          <div className="bg-gray-100 dark:bg-gray-800 rounded-lg p-3 mt-2 w-full max-w-xs mx-auto border-2 border-[#09FDFD]">
            <div className="flex items-center justify-between px-4 py-2 bg-white dark:bg-gray-700 rounded-lg">
              <span>Añadir a pantalla de inicio</span>
              <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20">
                  <path fill="#242424" d="M0 4.167A4.167 4.167 0 0 1 4.167 0h11.666A4.167 4.167 0 0 1 20 4.167v11.666A4.167 4.167 0 0 1 15.833 20H4.167A4.167 4.167 0 0 1 0 15.833V4.167Zm4.167-2.5a2.5 2.5 0 0 0-2.5 2.5v11.666a2.5 2.5 0 0 0 2.5 2.5h11.666a2.5 2.5 0 0 0 2.5-2.5V4.167a2.5 2.5 0 0 0-2.5-2.5H4.167ZM10 4.167c.46 0 .833.373.833.833v4.167H15a.833.833 0 0 1 0 1.666h-4.167V15a.833.833 0 0 1-1.666 0v-4.167H5a.833.833 0 1 1 0-1.666h4.167V5c0-.46.373-.833.833-.833Z"/>
                </svg>
              </span>
            </div>
          </div>
        ),
      },
    ],
  };

  const commonSteps = [
    {
      id: 3,
      text: 'Use el botón superior derecho "Agregar" y listo.',
      preview: (
        <div className="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 mt-2 w-full max-w-xs mx-auto border-2 border-gray-600">
          <div className="flex items-center justify-between mb-2">
            <button className="text-gray-500 dark:text-gray-400">Cancelar</button>
            <span className="font-semibold">Agregar a Inicio</span>
            <button className="text-blue-500 font-semibold">Agregar</button>
          </div>
          <div className="flex items-center space-x-3 p-2">
            <img src="logo512.png" alt="Findout Logo" className="w-12 h-12 rounded-xl" />
            <div>
              <p className="font-semibold dark:text-white">Findout</p>
              <p className="text-sm text-gray-500 dark:text-gray-400">https://findout.store/</p>
            </div>
          </div>
        </div>
      ),
    },
  ];

  const currentSteps = [...(steps[browser] || steps.safari), ...commonSteps];

  return (
    <div className="max-w-md mx-auto p-6 -mb-[40px] transition-colors duration-200">
      <div className="flex flex-col items-center mb-8">
        <div className="flex items-center justify-center gap-2 mb-2">
          <div className="border-2 border-gray-500 rounded-lg">
            <AppleIcon />
          </div>
          <div className="border-2 border-gray-500 rounded-lg">
            {browser === 'chrome' ? <ChromeIcon /> : <SafariIcon />}
          </div>
        </div>
        <h2 className="text-2xl font-semibold dark:text-white leading-6">Instalación iOS</h2>
        <p className='text-gray-500 dark:text-gray-400 text-xl'>
          {browser === 'chrome' ? 'Google Chrome' : 'Safari'}
        </p>
      </div>

      <div className="space-y-8">
        {currentSteps.map((step) => (
          <motion.div
            key={step.id}
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: step.id * 0.2 }}
            className="flex flex-col items-center"
          >
            <div className="flex items-center space-x-4 w-full">
              <div className="flex-shrink-0 w-8 h-8 bg-[#09FDFD] rounded-full flex items-center justify-center text-white font-semibold">
                {step.id}
              </div>
              <p className="flex-grow text-gray-700 dark:text-gray-300 leading-5">{step.text}</p>
              {step.icon && <div className="flex-shrink-0">{step.icon}</div>}
            </div>
            {step.preview && <div className="mt-4 w-full">{step.preview}</div>}
          </motion.div>
        ))}
      </div>

      <div className="mt-8 flex flex-col items-center space-y-4">
        <div className="flex items-center space-x-2">
          <img src="logo512.png" alt="Findout Logo" className="w-10 h-10 rounded-xl" />
          <p className="text-sm dark:text-gray-300 leading-4">
            Ya puede buscar <span className="font-semibold">findout</span><br />
            en las aplicaciones de su teléfono
          </p>
        </div>
        <button className="w-full bg-black dark:bg-gray-700 text-white py-3 px-6 rounded-xl flex items-center justify-center space-x-2 hover:bg-gray-800 dark:hover:bg-gray-600 transition-colors">
          <ChevronLeft className="w-5 h-5" />
          <span>Volver al home</span>
          <Heart className="w-5 h-5 text-cyan-400" />
        </button>
      </div>
    </div>
  );
};

export default IOSInstallGuide;